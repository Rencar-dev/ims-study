# 옵저버 패턴

## 1.내용 정리

### 정의

- 객체의 상태가 바뀌면 그 객체에 의존하는 다른 객체에게 연락이 가고 자동으로 내용이 갱신되는 방식. 일대다 의존성을 정의.
- ex) 신문사와 구독자와 이루어지는 신문 구독 서비스.
- 한 객체의 상태가 변경되면 그 객체에 의존하는 모든 객체에게 연락이 간다.

### 구조

- 인터페이스 `Subject`
  - 옵저버 등록, 탈퇴, 알림 메소스 사용.
- 인터페이스 `Observer`
  - `Subject`의 상태가 바뀌었을 때 호출되는 `update` 메소스.

### 느슨한 결합(Loose Coupling)

- 객체들이 상호작용할 수는 있지만, 서로를 잘 모르는 관계.
- 느슨한 결합을 활용하면 유연성이 좋아짐.
- 변경사항이 생겨도 무난히 처리할 수 있는 유연한 객체지향 시스템 구축.
  - 객체 사이의 상호의존성을 최소화.

> 디자인 원칙 - 상호작용하는 객체 사이에는 가능하면 느슨한 결합을 사용해야 한다.

## 2. 코드 적용

- 책에 나온 push 방식 내용을 타입스크립트로 작성
- `example` 폴더에 작성.
  - ts 파일을 node에서 실행하기 위해서 js로 컴파일 (`npx tsc index.ts`)
- 실행 결과
  <img width="742" alt="스크린샷 2023-04-26 오전 12 21 17" src="https://user-images.githubusercontent.com/117623915/234325657-b13e85c2-7195-4002-bdcf-418c0fbd584b.png">
